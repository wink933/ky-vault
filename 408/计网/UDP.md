---
topic: UDP（用户数据报协议）  
module: 传输层  
input_type: 概念  
exam_weight: 中  
one_liner: 最小传输层：端口交付+校验，不保可靠有序  
why_needed: [实现进程到进程交付, 追求低开销低时延]  
keywords: [UDP, 端口, 多路复用, 多路分解, 校验和, 伪首部, 面向报文, 无连接]  
signals: [无连接, 不可靠, 面向报文, 端口, 校验和, 伪首部, 实时, 低开销]  
pitfalls: [UDP无校验和, UDP是字节流, UDP自带重传]  
comparisons: [UDP_vs_TCP, UDP+应用层可靠_vs_TCP]  
links: [socket与端口, IP数据报, ICMP端口不可达, TCP可靠传输, 拥塞控制]  
source: 2026计算机网络.pdf 第5章5.2 UDP  
pattern_name: UDP题干三段式（提供/不提供/场景）  
last_update: 2026-01-21  
tags: [#计网, #408, #传输层, #UDP]  
---

## 1) 速记总结

- 本质：最小代价把“报文”交给对端进程。
    
- 解决：端口复用/分解；差错检测（校验和）。
    
- 考法：对比 TCP；伪首部校验和目的；适用实时/短请求（DNS）。
    

## 2) 机制链条（可背版本）

应用发送 → 填UDP首部(端口/长度/校验和) → 校验和含伪首部 → 交IP → 到端校验→按目的端口分解→交应用  
副作用：不保证到达/顺序/拥塞与流控；异常：校验错丢弃，端口无监听可能ICMP报错

## 3) 状态机/流程（伪图示）

[FromIP] -> [Verify校验] -> ok -> [Demux按dstPort] -> [Deliver]  
-> fail -> [Drop]  
[Demux] -> not found -> [ICMP? 端口不可达]

## 4) 代价与边界

- 代价：无重传/无序/无流控/无拥塞控，可靠性由应用承担。
    
- 边界/不适用：必须可靠有序的文件/网页主体不适合裸 UDP。
    
- 风险：应用无节制发送会造成拥塞恶化。
    

## 5) 对比与替代（最小对比表）

|维度|UDP|TCP|
|---|---|---|
|目标|最小服务、低时延|可靠、有序、流控+拥塞控|
|代价|不可靠、需应用补齐|状态/握手/控制开销更大|
|典型考法|不提供哪些功能、伪首部校验|握手挥手、重传、窗口、拥塞|

## 6) 真题命题模板

- “无连接/不可靠/实时” → 为什么选UDP → 低开销低时延；丢包由应用策略容忍/掩盖
    
- “端口/复用分解” → UDP做了什么 → 进程到进程交付
    
- “校验和/伪首部” → 为什么要伪首部 → 覆盖IP关键信息，减少误投递与未检错
    
- 常见变式：DNS为何多用UDP（短请求、快速、必要时应用层重试；遇到更大响应可切换策略）
    

## 7) 易错点清单（带自检）

- 错误结论：UDP无校验和
    
    - 错因：把“不可靠”当“无检错”
        
    - 自检：首部8B含Checksum字段
        
- 错误结论：UDP是字节流
    
    - 错因：混淆TCP
        
    - 自检：UDP面向报文，边界保留
        
- 错误结论：UDP会保证不拥塞
    
    - 错因：误以为传输层自动控速
        
    - 自检：UDP无拥塞控制，需应用/协议栈策略配合
        

## 8) 迁移题型模型（可直接套用）

- 识别：无连接/不可靠/面向报文/端口/校验和/伪首部/实时
    
- 步骤：1) 写“提供” 2) 写“不提供” 3) 写校验和+伪首部目的 4) 用场景解释取舍
    
- 验算/检查点：是否把TCP的握手/窗口/重传写进UDP？是否把校验和当成可靠保证？
    

## 9) 知识网络（用于串题）

- 上游前置：IP、端口/socket、校验和
    
- 下游应用：DNS、实时音视频、QUIC思路
    
- 横向对比：TCP可靠传输/拥塞控制、ICMP差错报告、NAT映射