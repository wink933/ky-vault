---
topic: DNS
module: åº”ç”¨å±‚
tags:
  - "#åº”ç”¨å±‚"
  - "#DNS"
  - "#å‘½åè§£æ"
one_liner: åˆ†å±‚å‘½åè§£æï¼šé€’å½’/è¿­ä»£ + å¤šçº§ç¼“å­˜TTLï¼›é»˜è®¤UDPï¼Œå¿…è¦æ—¶è½¬TCP
updated: 2026-01-22
---

> [!summary] ğŸ§  æ¦‚å¿µå¡ï½œDNSï¼ˆåº”ç”¨å±‚ï¼‰  
> **ç»“è®ºæ¡**ï¼šåˆ†å±‚å‘½åâ†’æ ¹/é¡¶çº§åŸŸ/æƒå¨åˆ†å·¥ï¼›é€’å½’=æ›¿ä½ æŸ¥åˆ°æœ€ç»ˆç­”æ¡ˆã€è¿­ä»£=æ¯æ­¥è¿”å›ä¸‹ä¸€è·³ï¼›å¤šçº§ç¼“å­˜+TTLæ¢æ€§èƒ½ä½†ç‰ºç‰²ä¸€è‡´æ€§ï¼›RRå†³å®šè¿”å›å†…å®¹(A/AAAA/CNAME/NSâ€¦)ï¼›é»˜è®¤UDPï¼Œæˆªæ–­/åŒºåŸŸä¼ é€ç­‰åœºæ™¯è½¬TCP

> [!note] ğŸ¯ ä¸ºä»€ä¹ˆéœ€è¦ï¼ˆåªå†™â€œé—®é¢˜ä¸åŠ¨æœºâ€ï¼Œä¸å†™å®šä¹‰ï¼‰
> 
> - æ²¡æœ‰DNSï¼šåªèƒ½è®°IPï¼›åœ°å€å˜æ›´ä¼šå¼•å‘å¤§è§„æ¨¡é…ç½®/ç»´æŠ¤æˆæœ¬ï¼Œæ˜“å‡ºé”™ä¸”éš¾æ¼”è¿›
>     
> - éœ€è¦åŒæ—¶æ»¡è¶³ï¼šå…¨çƒå¯æ‰©å±•(åˆ†å±‚æˆæƒ)ï¼›ä½æ—¶å»¶(å°±è¿‘/ç¼“å­˜)ï¼›å¯æ¼”è¿›(é€šè¿‡RRæ‰©å±•è¯­ä¹‰)
>     
> - ä¸ç›´æ¥ç”¨â€œé›†ä¸­å¼è¡¨/å¹¿æ’­é—®â€ï¼šé›†ä¸­å¼æ˜“æˆå•ç‚¹ä¸ç“¶é¢ˆï¼›å¹¿æ’­ä¸å¯æ‰©å±•ä¸”å™ªå£°å·¨å¤§
>     

> [!info] ğŸ”— æœºåˆ¶é“¾æ¡ï¼ˆèƒŒè¯µç‰ˆï½œç»“æ„æ¸…æ™°ï¼‰  
> è§¦å‘(åº”ç”¨è®¿é—®åŸŸåéœ€IP)  
> â†’ è¾“å…¥(QNAME+QTYPE)  
> â†’ æ ¸å¿ƒæ­¥éª¤ã€”1æŸ¥å®¢æˆ·ç«¯/é€’å½’ç¼“å­˜ï¼›2æœªå‘½ä¸­ï¼šæ ¹â†’TLDâ†’æƒå¨ï¼›3å¾—åˆ°RRå¹¶æŒ‰TTLå†™ç¼“å­˜ã€•  
> â†’ è¾“å‡ºã€”A/AAAAï¼›è‹¥CNAMEåˆ™ç»§ç»­è§£æç›´åˆ°A/AAAAè½åœ°ã€•  
> â†’ å‰¯ä½œç”¨/ä»£ä»·ã€”TTLå¯¼è‡´æ›´æ–°ä¼ æ’­æ»åï¼›é€’å½’è§£æå™¨è´Ÿè½½ä¸å®‰å…¨é£é™©é›†ä¸­ã€•  
> â†’ å¤±è´¥/å¼‚å¸¸åˆ†æ”¯ã€”NXDOMAIN/è¶…æ—¶ï¼›æ±¡æŸ“/æŠ•æ¯’ï¼›å“åº”æˆªæ–­/åŒºåŸŸä¼ é€è½¬TCPã€•

> [!tip] ğŸ§­ æµç¨‹/çŠ¶æ€æœºï¼ˆä¼ªå›¾ç¤ºï½œç”»å…³é”®åˆ†æ”¯ï¼‰
> 
> ```text
> åº”ç”¨å‘èµ·è§£æ(QNAME,QTYPE)
>   |
>   v
> å®¢æˆ·ç«¯ç¼“å­˜(æµè§ˆå™¨/OS/hosts) --å‘½ä¸­--> è¿”å›RR
>   |
> æœªå‘½ä¸­
>   v
> é€’å½’è§£æå™¨ç¼“å­˜ --å‘½ä¸­--> è¿”å›RR(+å‰©ä½™TTL)
>   |
> æœªå‘½ä¸­
>   v
> æ ¹(.) --è¿”å›--> TLD(.comç­‰)
> TLD  --è¿”å›--> æƒå¨(example.com)
> æƒå¨ --è¿”å›--> RR(A/AAAA/CNAME/NS/MX/TXT...)
>   |
>   +--è‹¥RRä¸ºCNAME--> ä»¥æ–°åå­—ç»§ç»­è§£æç›´åˆ°A/AAAA
>   +--è‹¥RRä¸ºA/AAAA--> ç»“æŸ
>   +--è‹¥TC=1/å“åº”è¿‡å¤§/åŒºåŸŸä¼ é€--> æ”¹ç”¨TCP 53
>   +--è‹¥RCODE=3--> NXDOMAIN(åå­—ä¸å­˜åœ¨)
>   |
>   v
> å†™å…¥é€’å½’ç¼“å­˜(TTL) -> è¿”å›å®¢æˆ·ç«¯ -> å†™å…¥å®¢æˆ·ç«¯ç¼“å­˜ -> åº”ç”¨è·å¾—ç»“æœ
> ```
> 
> - é¢˜ç›®å¸¸é—®çš„â€œåˆ†æ”¯ç‚¹â€ï¼šé€’å½’vsè¿­ä»£ / ç¼“å­˜å‘½ä¸­å±‚çº§ä¸TTL / CNAMEé“¾æ˜¯å¦ç»§ç»­è§£æ / UDPä½•æ—¶è½¬TCP
>     

> [!abstract] ğŸ§¾ æœ€å°å¯¹æ¯”è¡¨ï¼ˆåªä¿ç•™èƒ½å¾—åˆ†çš„ç»´åº¦ï¼‰
> 
> |ç»´åº¦|æ–¹æ¡ˆAï¼šé€’å½’æŸ¥è¯¢|æ–¹æ¡ˆBï¼šè¿­ä»£æŸ¥è¯¢|
> |---|---|---|
> |ç›®æ ‡|å®¢æˆ·ç«¯ä¸€æ¬¡æ‹¿åˆ°æœ€ç»ˆç­”æ¡ˆï¼ˆè§£æå™¨æ›¿ä½ è·‘è…¿ï¼‰|æ¯ä¸€æ­¥æ‹¿åˆ°â€œä¸‹ä¸€è·³è¯¥é—®è°â€ï¼Œç›´åˆ°æƒå¨|
> |ä»£ä»·|é€’å½’è§£æå™¨å‹åŠ›ä¸é£é™©é›†ä¸­ï¼›æ›´ä¾èµ–ç¼“å­˜ä¸ç­–ç•¥|äº¤äº’æ­¥æ•°æ˜¾å¼ï¼›æ›´è€ƒâ€œæ¯æ­¥è¿”å›ä»€ä¹ˆâ€|
> |å…¸å‹è€ƒæ³•|â€œæœ¬åœ°åŸŸåæœåŠ¡å™¨/ç¼“å­˜/TTLä¸ºä½•åŠ é€Ÿâ€|â€œæ ¹â†’TLDâ†’æƒå¨é¡ºåºã€æ¯æ­¥è¿”å›ä»€ä¹ˆâ€|

>[!question] ğŸ§© çœŸé¢˜å‘½é¢˜ä¿¡å·è¯ â†’ ç›´æ¥å®šä½
> - ? â€œæœ¬åœ°åŸŸåæœåŠ¡å™¨/é€’å½’è§£æå™¨â€ â†’ é€’å½’æµç¨‹ + å…ˆæŸ¥ç¼“å­˜ï¼›å†åˆ¤æ˜¯å¦è®¿é—®æ ¹/TLD/æƒå¨
>     
> - ? â€œæ ¹/é¡¶çº§åŸŸ/æƒå¨æœåŠ¡å™¨â€ â†’ ç”»è¿­ä»£é“¾ï¼šæ ¹â†’TLDâ†’æƒå¨ï¼›å¼ºè°ƒæ¯æ­¥è¿”å›â€œä¸‹ä¸€è·³çº¿ç´¢â€
>     
> - ? â€œç¬¬äºŒæ¬¡è®¿é—®æ›´å¿«/æ”¹IPä¸ç”Ÿæ•ˆ/TTLâ€ â†’ ç¼“å­˜å‘½ä¸­ + TTLæœªè¿‡æœŸ â†’ ç»“æœå¯èƒ½æ»å
>     
> - ? â€œCDN/åˆ«å/è·³è½¬â€ â†’ CNAMEæŒ‡å‘æ–°åŸŸåï¼›å¿…é¡»ç»§ç»­è§£æè½åˆ°A/AAAAï¼›å¯é…åˆå¤šAåšå°±è¿‘/è´Ÿè½½
>     

> [!warning] âš  æ˜“é”™ç‚¹æ¸…å•ï¼ˆå¸¦è‡ªæ£€ï¼‰
> 
> -  æˆ‘èƒ½ç”¨ä¸€å¥è¯è¯´æ¸… **é€’å½’=æ›¿ä½ æŸ¥å®Œã€è¿­ä»£=æŒ‡è·¯ä¸‹ä¸€è·³** å—ï¼Ÿ
>     
> -  æˆ‘èƒ½æŒ‡å‡º **TTLæœªè¿‡æœŸ** æ—¶â€œæ”¹IPä»å¯èƒ½æ‹¿æ—§ç»“æœâ€çš„åŸå› å—ï¼Ÿ
>     
> -  æˆ‘èƒ½è§£é‡Š **CNAMEå¿…é¡»ç»§ç»­è§£æåˆ°A/AAAA** å—ï¼Ÿ
>     
> -  æˆ‘èƒ½åé©³ **â€œæ ¹æœåŠ¡å™¨ä¿å­˜æ‰€æœ‰åŸŸå-IP/ç¼“å­˜æ°¸ä¹…æœ‰æ•ˆ/DNSé»˜è®¤TCPâ€** å—ï¼Ÿ
>     

> [!success] âœ… å¯ç›´æ¥å¥—ç”¨çš„ç­”é¢˜éª¨æ¶ï¼ˆé€‰æ‹©/ç®€ç­”é€šç”¨ï¼‰
> 
> 1. å…ˆåˆ¤ï¼šé¢˜å¹²æ˜¯åœ¨é—®é€’å½’è§£æå™¨å¦‚ä½•ä»£æŸ¥ï¼Œè¿˜æ˜¯åœ¨è€ƒè¿­ä»£é“¾(æ ¹â†’TLDâ†’æƒå¨)
>     
> 2. å†èµ°ï¼šä¼˜å…ˆè¯´æ˜ç¼“å­˜å‘½ä¸­å±‚(å®¢æˆ·ç«¯/é€’å½’)ä¸TTLï¼›æœªå‘½ä¸­æŒ‰å±‚çº§è¿­ä»£æ‹¿RRï¼›è‹¥CNAMEåˆ™ç»§ç»­è§£æç›´åˆ°A/AAAA
>     
> 3. æœ€åè¡¥ï¼šé»˜è®¤UDPï¼›æˆªæ–­/å¤§å“åº”/åŒºåŸŸä¼ é€è½¬TCPï¼›å¼‚å¸¸çœ‹NXDOMAIN/è¶…æ—¶/æ±¡æŸ“  
>     **ä¸€å¥è¯æ¨¡æ¿**ï¼šå…ˆåˆ¤é€’å½’/è¿­ä»£ï¼›å…ˆæŸ¥ç¼“å­˜å¹¶è¯´æ˜TTLï¼›æœªå‘½ä¸­èµ°æ ¹â†’TLDâ†’æƒå¨æ‹¿RRï¼ŒCNAMEç»§ç»­è½A/AAAAï¼›æœ€åç‚¹å‡ºUDP/TCPä¸å¼‚å¸¸è¾¹ç•Œã€‚
>     

> [!quote] ğŸ”— çŸ¥è¯†ç½‘ç»œï¼ˆåŒé“¾ä¸²é¢˜ï¼‰
> 
> - ä¸Šæ¸¸è§¦å‘ï¼š[[HTTP]] / [[HTTPS]]
>     
> - ä¸‹æ¸¸ä¾èµ–ï¼š[[UDP]] / [[TCP]]
>     
> - å¸¸ä¸€èµ·è€ƒï¼š[[CDN]] / [[ç¼“å­˜ä¸ä¸€è‡´æ€§]] / [[DNSæ±¡æŸ“ä¸åŠ«æŒ]]


$$\int_\alpha^{\infty}\frac{1+x^{2}}{x+2}$$
$$\sum\limits_{i=1}^{n}$$

$$\frac{a}{b}$$

$$\frac{(x^{2}+3)-4}{x^{3}}$$
$$\begin{align*}
x^{2}&= x_{2}+x_{1}+x^{3}\\
&= 
\end{align*}$$

$$\begin{pmatrix}\end{pmatrix}$$

$$$$