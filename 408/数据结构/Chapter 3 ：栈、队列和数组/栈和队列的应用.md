---
title: 栈和队列的应用
tags:
  - "#括号匹配"
  - "#表达式求值"
date: 2026-02-20
---
---

### 栈在括号匹配中的应用

假设表达式中允许包含两种括号：圆括号 `()` 和方括号 `[]`，其嵌套顺序任意。例如，`([]())` 或 `[([][])]` 均为合法格式，而 `[()]`、`([())` 或 `(())` 均为非法格式。

考虑如下括号序列：

```text
[  (  [  ]  [  ]  )  ]
1  2  3  4  5  6  7  8
```

#### 分析过程  

1）读入第 1 个括号 “`[`” 后，系统期待与之匹配的 “`]`”（第 8 个）出现。  
2）读入第 2 个括号 “`(`” 后，第 1 个括号 “`[`” 的期待暂时搁置，转而优先期待与 “`(`” 匹配的 “`)`”（第 7 个）出现。  
3）读入第 3 个括号 “`[`”，当前最急迫的期待变为与之匹配的 “`]`”（第 4 个）。该期待满足后，先前被搁置的第 2 个括号 “`(`” 的匹配任务重新成为当前最急迫事项。  
4）以此类推，可见整个处理过程完全符合后进先出的栈行为。

#### 算法思想  

1）初始化一个空栈，顺序扫描输入的括号序列。  
2）若遇到左括号，将其压入栈中，表示新增一个待匹配的期待，且其优先级最高。  
3）若遇到右括号，则检查栈是否为空：若栈非空且栈顶左括号与当前右括号匹配，则弹出栈顶，完成一次匹配；否则，括号序列非法，算法终止。  
4）扫描结束后，若栈为空，则括号序列合法；否则，存在未匹配的左括号，序列非法。

#### 流程框图

![](assets/栈和队列的应用/file-20260220140200451.png)