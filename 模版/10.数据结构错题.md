
<%*
const file = tp.file.path(true);
const content = await app.vault.read(app.vault.getAbstractFileByPath(file));

const m = content.match(/<!--\s*COUNTER:\s*(\d+)\s*-->/);
let n = m ? parseInt(m[1], 10) : 0;

n += 1;
const newMarker = `<!-- COUNTER: ${n} -->`;
const newContent = m ? content.replace(m[0], newMarker) : (newMarker + "\n" + content);

// 写回计数器
await app.vault.modify(app.vault.getAbstractFileByPath(file), newContent);

// 生成 3 位序号
const id = String(n).padStart(3, "0");
tR += `\n## ${id}\n\n`;
%>

> [!question] 题干
> 

> [!success] 解析
> 

> [!note] 总结
> 
##### **知识关联**
- 


